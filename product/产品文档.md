# 产品文档

## 1. 项目概述

本项目是一个现代化的个人导航主页应用，提供了丰富的功能和个性化设置，帮助用户高效管理常用链接、书签和待办事项。

### 1.1 核心功能

- **主题切换**：支持明亮/暗黑模式切换，适配系统偏好设置
- **企业链接**：集中管理企业内部系统链接，支持锁定功能
- **书签管理**：分类管理个人书签，支持隐藏/显示分类
- **快捷链接**：自定义常用网站快捷入口，支持拖拽排序
- **待办事项**：集成待办事项面板，方便任务管理
- **搜索功能**：支持多种搜索引擎切换，快速搜索
- **日历集成**：显示今日事件提醒
- **背景自定义**：支持上传和设置自定义背景图片

### 1.2 技术亮点

- 使用React 18 + TypeScript构建，类型安全
- 采用Vite作为构建工具，开发体验优异
- 基于Tailwind CSS实现响应式设计
- 使用Context API进行全局状态管理
- 自定义Hooks封装业务逻辑，代码复用性高
- 支持localStorage数据持久化
- 组件化设计，代码结构清晰

## 2. 技术栈

| 技术/工具 | 版本 | 用途 |
| --- | --- | --- |
| React | 18.3.1 | 前端框架 |
| TypeScript | 5.7.2 | 类型系统 |
| Vite | 6.2.0 | 构建工具 |
| Tailwind CSS | 3.4.17 | 样式框架 |
| React Router | 7.3.0 | 路由管理 |
| Framer Motion | 12.9.2 | 动画效果 |
| Sonner | 2.0.2 | 通知组件 |
| Recharts | 2.15.1 | 图表库 |
| pnpm | - | 包管理器 |

## 3. 项目结构

```
├── src/
│   ├── components/          # 组件目录
│   ├── contexts/            # React Context
│   ├── data/               # 模拟数据
│   ├── enum/               # 枚举定义
│   ├── hooks/              # 自定义Hooks
│   ├── lib/                # 工具函数
│   ├── pages/              # 页面组件
│   ├── types/              # TypeScript类型定义
│   ├── App.tsx             # 应用入口组件
│   ├── index.css           # 全局样式
│   └── main.tsx            # 应用主入口
├── docs/                   # 文档目录
├── index.html              # HTML模板
├── package.json            # 项目配置
├── tailwind.config.js      # Tailwind配置
├── tsconfig.json           # TypeScript配置
└── vite.config.ts          # Vite配置
```

### 3.1 组件结构

| 组件 | 功能描述 |
| --- | --- |
| `Sidebar` | 侧边栏组件，包含导航菜单 |
| `TodoPanel` | 待办事项面板 |
| `QuickLinks` | 快捷链接组件 |
| `BookmarksGrid` | 书签网格展示 |
| `SettingsPanel` | 设置面板 |
| `CalendarModal` | 日历模态框 |
| `MenuModal` | 菜单管理模态框 |
| `ThemeSettings` | 主题设置组件 |
| `AIBookmarksSettings` | AI书签设置 |
| `EnterpriseLinksSettings` | 企业链接设置 |
| `EnterpriseLinksGrid` | 企业链接网格 |

### 3.2 上下文管理

| Context | 功能描述 |
| --- | --- |
| `AuthContext` | 认证状态管理 |
| `ThemeContext` | 主题状态管理 |
| `BookmarkContext` | 书签数据管理 |
| `EnterpriseLinkContext` | 企业链接管理 |

### 3.3 自定义Hooks

| Hook | 功能描述 |
| --- | --- |
| `useTheme` | 主题切换和管理 |
| `useEnterpriseLinks` | 企业链接管理 |
| `useDateTime` | 日期时间处理 |
| `useSearch` | 搜索功能实现 |

## 4. 核心功能详解

### 4.1 主题管理

- **实现方式**：使用`ThemeContext`和`useTheme`钩子
- **功能**：支持明亮/暗黑模式切换，保存用户偏好到localStorage
- **特点**：
  - 自动适配系统主题设置
  - 支持跨标签页主题同步
  - 主题切换时提供平滑过渡效果

### 4.2 企业链接

- **实现方式**：使用`EnterpriseLinkContext`和`useEnterpriseLinks`钩子
- **功能**：集中管理企业内部系统链接，支持锁定和解锁
- **特点**：
  - 可配置的企业链接列表
  - 支持密码保护
  - 可视化的网格布局

### 4.3 书签管理

- **实现方式**：使用`BookmarkContext`和`BookmarksGrid`组件
- **功能**：分类管理个人书签，支持隐藏/显示特定分类
- **特点**：
  - 多标签页组织书签
  - 支持AI分类（预留功能）
  - 404链接检测

### 4.4 快捷链接

- **实现方式**：`QuickLinks`组件
- **功能**：自定义常用网站快捷入口
- **特点**：
  - 支持拖拽排序
  - 可自定义图标和颜色
  - 显示/隐藏控制

### 4.5 待办事项

- **实现方式**：`TodoPanel`组件
- **功能**：管理个人待办事项
- **特点**：
  - 添加/删除/完成任务
  - 本地存储持久化
  - 面板式设计，不占用主界面空间

### 4.6 搜索功能

- **实现方式**：`useSearch`钩子
- **功能**：支持多种搜索引擎的快速搜索
- **特点**：
  - 可切换搜索引擎
  - 搜索建议（预留功能）
  - 快捷键支持

## 5. 开发与构建

### 5.1 环境准备

- Node.js 16+
- pnpm 6+

### 5.2 安装依赖

```bash
pnpm install
```

### 5.3 启动开发服务器

```bash
pnpm run dev
```

应用将在 http://localhost:3000 启动

### 5.4 构建生产版本

```bash
pnpm run build
```

构建产物将输出到 `dist` 目录

### 5.5 代码规范

- 严格遵循TypeScript类型定义
- 使用ESLint进行代码检查
- 代码注释使用JSDoc格式
- 组件命名采用PascalCase
- 变量和函数命名采用camelCase

## 6. 未来规划

### 6.1 功能增强

- [ ] AI智能分类书签
- [ ] 书签链接有效性检查
- [ ] 导入/导出书签功能
- [ ] 多用户支持
- [ ] 云同步功能
- [ ] 更多自定义主题选项

### 6.2 性能优化

- [ ] 代码分割和懒加载
- [ ] 图片优化和CDN加速
- [ ] 减少首次加载时间
- [ ] 优化渲染性能

## 7. 维护指南

### 7.1 数据持久化

应用使用localStorage进行数据持久化，主要存储以下数据：

- 主题设置
- 书签数据
- 快捷链接
- 菜单设置
- 背景图片

### 7.2 常见问题

#### 7.2.1 主题不生效

检查浏览器是否支持localStorage，清除缓存后重试。

#### 7.2.2 数据丢失

数据存储在浏览器localStorage中，清除浏览器数据会导致数据丢失。建议定期备份重要数据。

#### 7.2.3 性能问题

如果应用运行缓慢，尝试：
- 减少书签数量
- 移除大型背景图片
- 关闭不必要的功能面板

## 8. 贡献指南

### 8.1 开发流程

1. Fork项目仓库
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开Pull Request

### 8.2 代码规范

- 确保所有代码通过TypeScript编译检查
- 遵循项目现有的代码风格
- 添加必要的注释和文档
- 测试新功能的兼容性和稳定性

---

**文档版本**：v1.0.0  
**最后更新**：2024年12月  
**作者**：开发团队